@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  font-family: "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
}

* {
  box-sizing: border-box;
}

html,
body,
#root {
  min-height: 100%;
}

body {
  margin: 0;
  background:
    radial-gradient(circle at 14% 16%, rgba(255, 193, 217, 0.65), transparent 35%),
    radial-gradient(circle at 88% 12%, rgba(255, 231, 166, 0.55), transparent 28%),
    linear-gradient(140deg, #fff9fc 0%, #ffeef8 42%, #fff3ec 100%);
  color: #3a1030;
}

.title-serif {
  font-family: "Playfair Display", "Times New Roman", serif;
}

.title-gothic {
  font-family: "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
  font-weight: 800;
  letter-spacing: -0.02em;
}

.title-iseoyun {
  font-family: "LeeSeoyun", "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
  font-weight: 400;
  letter-spacing: -0.01em;
}

.title-gothic-soft {
  font-family: "Noto Sans KR", "Apple SD Gothic Neo", "Malgun Gothic", sans-serif;
  font-weight: 500;
  letter-spacing: -0.01em;
}

.invite-card,
.success-card {
  border: 1px solid rgba(255, 255, 255, 0.72);
  background: linear-gradient(
    152deg,
    rgba(255, 255, 255, 0.68),
    rgba(255, 255, 255, 0.46)
  );
  box-shadow:
    0 26px 60px rgba(255, 74, 158, 0.19),
    inset 0 1px 0 rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(16px);
}

.arena-surface {
  isolation: isolate;
  contain: layout;
  overflow: visible;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.no-button {
  position: absolute;
  left: 0;
  top: 0;
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform-style: preserve-3d;
  -webkit-font-smoothing: antialiased;
}

.no-button-final {
  left: 0.5rem;
  right: 0.5rem;
  top: 0.5rem;
  bottom: 2.05rem;
  width: auto;
  height: auto;
  z-index: 7;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 1rem;
  font-size: 1.2rem;
  font-weight: 700;
  background: linear-gradient(125deg, #ffffff, #fff1f7);
  border: 1px solid rgba(255, 213, 229, 0.95);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.9),
    0 16px 26px rgba(222, 88, 146, 0.22);
  transform: none !important;
  translate: none !important;
  animation: no-button-urgent 0.82s ease-in-out infinite;
}

.yes-button {
  isolation: isolate;
}

.yes-button-fire {
  overflow: visible;
  animation: anger-shake 0.1s ease-in-out infinite alternate;
  box-shadow:
    0 16px 28px rgba(255, 95, 63, 0.36),
    0 0 16px rgba(255, 165, 69, 0.28);
}

.yes-label {
  position: relative;
  z-index: 2;
}

.rage-flames {
  position: absolute;
  left: -85%;
  bottom: calc(100% - 35px);
  width: calc(100% + 180px);
  height: 200px;
  opacity: 0;
  pointer-events: none;
  z-index: 1;
  filter: drop-shadow(0 0 12px rgba(255, 124, 48, 0.45));
  overflow: visible;
  transform: none;
  transform-origin: 50% 100%;
  animation: rage-flame-enter 0.62s cubic-bezier(0.2, 0.84, 0.22, 1) forwards;
  -webkit-mask-image: linear-gradient(to right, transparent 0%, #000 15%, #000 85%, transparent 100%),
    linear-gradient(to top, transparent 0%, #000 14%, #000 90%, transparent 100%);
  -webkit-mask-composite: source-in;
  mask-image: linear-gradient(to right, transparent 0%, #000 15%, #000 85%, transparent 100%),
    linear-gradient(to top, transparent 0%, #000 14%, #000 90%, transparent 100%);
  mask-composite: intersect;
}

.rage-fire-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  display: block;
  mix-blend-mode: screen;
  opacity: 0.98;
  transform: translateZ(0);
  transform-origin: 50% 100%;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

.ambient-item {
  position: absolute;
  bottom: -14vh;
  animation-name: float-up;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  user-select: none;
  text-shadow: 0 0 18px rgba(255, 88, 176, 0.34);
  will-change: transform, opacity;
  contain: paint;
}

.burst-piece {
  position: absolute;
  left: 0;
  top: 0;
  font-weight: 700;
  user-select: none;
  will-change: transform, opacity;
}

.burst-heart {
  color: rgba(255, 55, 133, 0.92);
  text-shadow: 0 0 16px rgba(255, 57, 155, 0.45);
}

.burst-spark {
  color: rgba(255, 188, 76, 0.94);
  text-shadow: 0 0 16px rgba(255, 198, 111, 0.55);
}

.confetti-piece {
  position: absolute;
  left: 0;
  top: 0;
  width: 9px;
  height: 16px;
  border-radius: 2px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.55);
  opacity: 0.95;
  will-change: transform, opacity;
}

.laser-fan-beam {
  position: absolute;
  left: 0;
  top: 0;
  width: 6px;
  min-height: 160px;
  border-radius: 999px;
  filter: blur(0.8px);
  mix-blend-mode: screen;
  box-shadow:
    0 0 14px rgba(255, 166, 217, 0.74),
    0 0 30px rgba(153, 225, 255, 0.6);
  will-change: transform, opacity;
}

.light-pulse {
  position: absolute;
  left: 0;
  top: 0;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(255, 250, 218, 0.65) 0%,
    rgba(255, 197, 139, 0.36) 46%,
    rgba(255, 128, 182, 0) 74%
  );
  mix-blend-mode: screen;
  pointer-events: none;
  will-change: transform, opacity;
}

.stage-dark {
  opacity: 0;
  background:
    radial-gradient(circle at 50% 90%, rgba(35, 22, 54, 0.45), transparent 46%),
    radial-gradient(circle at 20% 15%, rgba(56, 34, 68, 0.44), transparent 38%),
    linear-gradient(170deg, rgba(6, 8, 24, 0.88), rgba(12, 8, 18, 0.92));
}

.fireworks-canvas {
  width: 100%;
  height: 100%;
  mix-blend-mode: screen;
}

.screen-flash {
  opacity: 0;
  background:
    radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.78), transparent 34%),
    radial-gradient(circle at 80% 20%, rgba(255, 201, 222, 0.72), transparent 28%),
    radial-gradient(circle at 50% 65%, rgba(255, 247, 212, 0.55), transparent 40%);
  mix-blend-mode: screen;
  will-change: opacity;
}

@keyframes anger-shake {
  from {
    transform: translate(-112%, -50%) rotate(-0.85deg);
    filter: saturate(1.12);
  }
  to {
    transform: translate(-112%, -50%) rotate(0.85deg);
    filter: saturate(1.34);
  }
}

@keyframes rage-flame-enter {
  0% {
    opacity: 0;
    transform: translateY(14px) scale(0.74);
    filter: blur(4px) drop-shadow(0 0 2px rgba(255, 140, 56, 0.28));
  }
  55% {
    opacity: 0.95;
    transform: translateY(-1px) scale(1.02);
    filter: blur(1.5px) drop-shadow(0 0 8px rgba(255, 140, 56, 0.42));
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0) drop-shadow(0 0 12px rgba(255, 124, 48, 0.45));
  }
}

@keyframes no-button-urgent {
  0% {
    background: linear-gradient(125deg, #ffffff, #fff1f7);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.9),
      0 12px 20px rgba(222, 88, 146, 0.2),
      0 0 0 rgba(255, 130, 172, 0);
  }
  55% {
    background: linear-gradient(125deg, #fff4fa, #ffd7ea);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.95),
      0 22px 34px rgba(226, 73, 143, 0.33),
      0 0 18px rgba(255, 130, 172, 0.55);
  }
  100% {
    background: linear-gradient(125deg, #ffffff, #fff1f7);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.9),
      0 12px 20px rgba(222, 88, 146, 0.2),
      0 0 0 rgba(255, 130, 172, 0);
  }
}

@keyframes float-up {
  0% {
    transform: translate3d(0, 0, 0) scale(0.6) rotate(0deg);
    opacity: 0;
  }
  12% {
    opacity: 1;
  }
  50% {
    transform: translate3d(var(--drift), -55vh, 0) scale(1) rotate(12deg);
  }
  100% {
    transform: translate3d(calc(var(--drift) * 0.35), -116vh, 0) scale(1.08) rotate(-14deg);
    opacity: 0;
  }
}
